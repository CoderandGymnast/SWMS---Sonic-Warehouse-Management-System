<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<title>Home</title>

</head>

<body>

	{{ MEDIA_ROOT }}
	{% if request.user.is_authenticated %}
	<a href="{% url 'admin:index' %}">Dashboard</a> <!-- Could not use 'index'. -->
	<a href="{% url 'logout' %}">Logout</a>
	{% else %}
	<a href="{% url 'login' %}">Login</a>
	{% endif %}
	<form action="" method="post">
		{% csrf_token %}
		<input type="" name="" id="section-id" value="" oninvalid="setCustomValidity('...')" pattern="[1-9]\d*$"
			placeholder="Section ID, e.g., 1, 99, 123,...">
		<input id="submit" type="submit" value="START">
	</form>

	<script>

		$("#section-id").keyup(() => {
			$("form").attr("action", `{% url 'start' %}?id=${$("#section-id").val()}`)
		})

		$("form").submit((e) => {
			if (!$("#section-id").val()) e.preventDefault()
		})

		// $("#section-id").on("invalid", (e) => {
		// 	e.target.setCustomValidity("...")
		// })
	</script>
</body>

</html>